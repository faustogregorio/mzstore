<table mat-table [dataSource]="articulos" class="mat-elevation-z0">

  <ng-container matColumnDef="articulo">
    <th mat-header-cell *matHeaderCellDef> Art√≠culo </th>
    <td mat-cell *matCellDef="let articulo">
      <div fxLayoutAlign="start center" style="position: relative;">
        <div style="width: 100px;
        height: 80px;margin: 5px;">
          <img [src]="urlImageStored+articulo.imagen" style="width: 100%; height: 100%; object-fit: contain">
        </div>

        <span class="mat-small">{{articulo.articulo}}</span>
      </div>
       </td>
    <td mat-footer-cell *matFooterCellDef> PRECIO TOTAL </td>
  </ng-container>

  <ng-container matColumnDef="cantidad">
    <th mat-header-cell *matHeaderCellDef> Cantidad </th>
    <td mat-cell *matCellDef="let articulo"> <span class="mat-small">{{articulo.cantidad}}</span> </td>
    <td mat-footer-cell *matFooterCellDef>  </td>
  </ng-container>
  <ng-container matColumnDef="precio_unitario">
    <th mat-header-cell *matHeaderCellDef> Precio Unitario </th>
    <td mat-cell *matCellDef="let articulo"> <span class="mat-small">{{articulo.precio_unitario | formatoMoneda}}</span> </td>
    <td mat-footer-cell *matFooterCellDef> </td>
  </ng-container>
  <ng-container matColumnDef="descuento">
    <th mat-header-cell *matHeaderCellDef> Descuento </th>
    <td mat-cell *matCellDef="let articulo"> <span class="mat-small">{{getDescuento(articulo.precio_unitario, articulo.descuento) * articulo.cantidad | formatoMoneda}}({{articulo.descuento ? articulo.descuento + '%' : '0%'}})</span> </td>
    <td mat-footer-cell *matFooterCellDef>  </td>
  </ng-container>
  <ng-container matColumnDef="total">
    <th mat-header-cell *matHeaderCellDef> Total </th>
    <td mat-cell *matCellDef="let articulo"> <span class="mat-small">{{articulo.cantidad *
      (articulo.precio_unitario - getDescuento(articulo.precio_unitario, articulo.descuento)) | formatoMoneda}}</span> </td>
    <td mat-footer-cell *matFooterCellDef> {{getTotalCost() | formatoMoneda}} </td>
  </ng-container>


  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
  <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
  <tr mat-footer-row *matFooterRowDef="displayedColumns"></tr>
</table>

